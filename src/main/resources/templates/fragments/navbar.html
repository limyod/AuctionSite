<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div th:fragment="main-navbar">
    <div class="d-flex justify-content-between flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 me-md-auto font-weight-normal">BidUp</h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" th:href="@{/products}">Products</a>
            <a class="p-2 text-dark" th:href="@{/products/new}">Post</a>
            <a class="p-2 text-dark" th:href="@{/profile}">Profile</a>
        </nav>
        <div sec:authorize="isAnonymous()">
            <a class="btn btn-outline-primary" th:href="@{/register}">Sign up</a>
            <a class="btn btn-outline-primary" th:href="@{/login}">log in</a>
        </div>
        <div sec:authorize="isAuthenticated()">
            <form th:action="@{/logout}" method="post">
                <!-- CSRF Token for security -->
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="btn btn-outline-secondary ml-2">Log Out</button>
            </form>
        </div>
    </div>
</div>

</body>
</html>